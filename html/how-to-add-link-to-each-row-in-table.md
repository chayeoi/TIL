# HTML 테이블 행 전체에 링크 추가하기

HTML 테이블에서는 행을 나타내기 위해 `tr` 태그를 사용할 수 있다. 오늘 내가 시도했던 작업은 테이블의 각 행을 클릭했을 때 그 행에 해당하는 상세 화면으로 이동하도록 하는 일이었다.

단순히 생각해보면 `a` 태그를 사용해서 각각의 `tr` 태그를 감싸주기만 하면 끝날 것 같은데, 문제는 `tr` 요소가 `a` 요소의 자식으로 위치할 수 없다는 점이다. [W3C](https://www.w3.org/TR/html52/tabular-data.html#the-tr-element) 및 [WHATWG](https://html.spec.whatwg.org/multipage/tables.html#the-tr-element) 명세에 따르면 `tr` 태그는 오직 `thead`, `tbody`, `tfoot`, `table` 요소의 자식으로만 위치할 수 있다. 이 중에서도 `table`의 자식으로 위치한 `tr`의 경우에는 브라우저가 암묵적으로 `tr`의 부모 요소로서 `tbody` 요소를 삽입해주기 때문에, 사실상 `tr`의 부모가 될 수 있는 요소는 `thead`, `tbody`, `tfoot` 뿐이다.

처음으로 생각했던 해결책은 `tr`의 자식 셀(`th` 또는 `td`) 요소마다 다시 그의 자식으로 `a` 태그를 위치시킨 후, `a` 태그의 너비와 높이를 각 셀 영역만큼으로 늘리는 방법이었다.

```html
<style>
  .table__anchor {
    display: block;
    width: 100%;
    height: 100%;
  }
</style>

<tr>
  <td>
    <a class="table__anchor" href="#">
      내용 1
    </a>
  </td>
  <td>
    <a class="table__anchor" href="#">
      내용 2
    </a>
  </td>
  <td>
    <a class="table__anchor" href="#">
      내용 3
    </a>
  </td>
</tr>
```

이렇게 하고나면 테이블 행의 어떤 영역을 클릭하더라도 상세 화면으로 이동할 수 있지만, 키보드 접근성에 있어서는 오히려 불편함을 초래할 수 있겠단 생각이 들었다. 탭 포커싱은 기본적으로 모든 링크 요소에 대하여 잡히므로 위와 같이 마크업했을 경우 한 행에서 다음 행으로 이동하기 위해선 탭 포커싱을 3번 움직여야 하기 때문이다. 따라서 같은 행에 위치한 링크 중 하나의 링크에만 탭 포커싱이 잡힐 수 있도록 나머지 링크들에 `tabindex` 속성을 `-1`로 추가 설정하는 작업을 진행해야 했다.

그런데 이렇게 한 행에 `a` 태그를 여러 번 사용하는 게 구조적으로 좋지 않아보였다. 그래서 다른 방법을 더 찾아보았는데 아무래도 HTML만으로 해결하기엔 한계가 있어보였고, 간단한 Javascript로 `tr` 요소에 `click` 이벤트 핸들러를 추가하는 방식이 가장 깔끔해보였다.

그런데 이렇게만 처리하고 끝내버리면 이 역시 키보드 접근성에 문제를 야기할 수 있다. `tr` 요소가 탭 포커싱을 적용받을 수 있도록 각 `tr` 요소에 `tabindex` 속성을 `0`으로 설정해야하고, 엔터 키를 눌렀을 때 해당하는 상세 페이지로 이동할 수 있도록 키보드 이벤트 핸들러를 추가해야 한다. 아주 약간의 번거로움이 있긴하지만, 그래도 앞서 시도했던 방법보단 구조적으로 더 깔끔한 듯하다.
