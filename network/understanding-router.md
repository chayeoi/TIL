# 라우터(공유기) 이해하기

인터넷에 연결된 컴퓨터가 다른 컴퓨터와 통신하기 위해서는 IP 주소를 가지고 있어야 한다. 현실 세계에서 인터넷을 사용할 때는 먼저 통신사와 계약하여 인터넷 회선을 받은 다음 그 케이블을 컴퓨터에 연결하게 되는데, 이렇게 하면 비로소 해당 컴퓨터에 IP 주소가 부여된다.

그런데 만약 가정에서 인터넷을 사용하는 기기가 컴퓨터 한 대가 아니라 여러 대로 늘어날 경우 기기마다 각각의 IP 주소를 가져야하는데, 인터넷이 필요한 기기의 갯수만큼 통신사와 회선 계약을 늘리면 가능하겠지만 비용적인 측면에서 큰 부담이 된다. 그렇기 때문에 실제로는 통신사와 하나의 회선만 계약하고 공유기(라우터)를 통해 인터넷을 사용하는 기기들을 연결하는 방식을 사용한다. 공유기에는 크게 WAN(Wide Area Network)과 LAN(Local Area Network)이라고 적힌 연결 부분이 있는데, WAN에는 통신사로부터 받은 회선을 연결하고 LAN은 인터넷 연결이 필요한 기기들을 케이블로 연결하는 데 쓰인다(물론, 꼭 케이블을 사용하지 않아도 무선으로 연결할 수 있다). 이렇게 함으로써 통신사로부터 발급받았던 IP 주소는 공유기의 IP 주소가 되고, 누군가 그 IP 주소로 접속한다는 것은 해당 공유기로 접속한다는 뜻이 된다.

이렇게 공유기를 통해 연결된 모든 기기들은 같은 네트워크 상에 묶이게 되는데, 이렇게 묶인 지역 네트워크를 LAN(Local Area Network)이라고 한다. 이와 동시에 공유기는 전 세계에서 가장 거대한 네트워크인 인터넷이라고 하는 광역 네트워크에 소속되는데, 이 광역 네트워크를 WAN(Wide Area Network)이라고 부른다. 결국 공유기는 지역 네트워크와 광역 네트워크 사이에서 중개자 역할을 하는 교환원 같은 기계인 것이다.

공유기를 포함하여 지역 네트워크에 소속된 모든 기기들은 연결되는 순간에 각각의 IP 주소를 부여받는다. 이 중에서도 공유기에 부여된 내부 IP 주소는 좀 특별하기 때문에 Gateway address 또는 Router address라는 이름으로 부른다.

공유기는 광역 네트워크(WAN) 안에서 해당 공유기에 접속할 수 있게 해주는 IP 주소를 갖고 있다. 이 IP 주소는 전 세계에 있는 누구나 접속할 수 있다는 뜻에서 공용 IP 주소(Public IP address)라고 부른다. 그리고 공유기에 연결된 지역 네트워크 안에서 각 기기들에 부여된 IP들은 말하자면 내선 번호와 같은 건데, 이렇게 지역 네트워크 안에서만 쓸 수 있는 IP 주소를 사설 IP 주소(Private IP Address)라고 부른다.

IPv4 시대의 주소 체계는 총 42억 개의 주소가 있는데, 이 중에서 다음 표에 나와있는 주소들은 사설 IP 주소로 사용하기로 전 세계적으로 약속되어있다.

|             IP 주소            |     갯수    |
|-------------------------------|------------|
|   10.0.0.0 ~ 10.255.255.255   | 16,777,216 |
|-------------------------------|------------|
|  172.16.0.0 ~ 172.31.255.255  |  1,048,576 |
|-------------------------------|------------|
| 192.168.0.0 ~ 192.168.255.255 |   655,536  |

## 참고

* [공유기 (router) | 생활코딩](https://opentutorials.org/course/3265/20033)
